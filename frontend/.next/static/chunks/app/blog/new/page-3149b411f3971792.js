(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[844],{60487:function(e,t,r){Promise.resolve().then(r.bind(r,85676))},85676:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(37821),n=r(58078),s=r(58504),o=r(88620);let l=(0,r(38322).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var i=r(17737),c=r(74542),d=r(24807),u=r(7346),m=r(35684),h=r(13022);function x(){let e=(0,s.useRouter)(),{isAuthenticated:t}=(0,h.a)(),[r,x]=(0,n.useState)(""),[g,f]=(0,n.useState)(""),[p,b]=(0,n.useState)(""),[y,v]=(0,n.useState)(""),[j,z]=(0,n.useState)(""),[w,k]=(0,n.useState)(""),[N,S]=(0,n.useState)(!1),[T,C]=(0,n.useState)("");(0,n.useEffect)(()=>{t||e.push("/login")},[t,e]);let I=async t=>{if(t.preventDefault(),C(""),!r.trim()||!g.trim()||!p.trim()||!y){C("Please fill in all required fields");return}S(!0);try{let t=localStorage.getItem("accessToken"),a=await fetch("".concat("http://localhost:3001","/blog/posts"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({title:r,excerpt:g,content:p,category:y,tags:j.split(",").map(e=>e.trim()).filter(Boolean),featured_image:w||null})});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to create blog post")}let n=await a.json();e.push("/blog/".concat(n.post.slug||n.post.id))}catch(e){C(e.message||"Failed to create blog post")}finally{S(!1)}};return t?(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(c.default,{href:"/blog",children:(0,a.jsxs)(u.z,{variant:"ghost",size:"sm",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-zinc-100",children:"Write New Article"})]}),(0,a.jsx)(d.Z,{children:(0,a.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[T&&(0,a.jsx)("div",{className:"bg-danger/10 border border-danger/50 rounded-lg p-4 text-danger text-sm",children:T}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Article Title *"}),(0,a.jsx)(m.I,{id:"title",type:"text",value:r,onChange:e=>x(e.target.value),placeholder:"Enter a compelling title for your article",required:!0,maxLength:255}),(0,a.jsxs)("p",{className:"text-xs text-zinc-500 mt-1",children:[r.length,"/255 characters"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"excerpt",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Excerpt *"}),(0,a.jsx)("textarea",{id:"excerpt",value:g,onChange:e=>f(e.target.value),placeholder:"Write a brief summary of your article (2-3 sentences)",required:!0,rows:3,maxLength:500,className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary resize-y"}),(0,a.jsxs)("p",{className:"text-xs text-zinc-500 mt-1",children:[g.length,"/500 characters"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Category *"}),(0,a.jsxs)("select",{id:"category",value:y,onChange:e=>v(e.target.value),className:"w-full px-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select a category"}),["Market Analysis","Trading Strategies","Technical Analysis","Fundamental Analysis","Risk Management","Cryptocurrency","Forex","Stocks","Options","Commodities"].map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"tags",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Tags"}),(0,a.jsx)(m.I,{id:"tags",type:"text",value:j,onChange:e=>z(e.target.value),placeholder:"trading, forex, technical-analysis (comma separated)"}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Separate tags with commas to help readers find your content"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"featured-image",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Featured Image URL"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-zinc-500"}),(0,a.jsx)(m.I,{id:"featured-image",type:"url",value:w,onChange:e=>k(e.target.value),placeholder:"https://example.com/image.jpg",className:"pl-10"})]}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Add a featured image to make your article more engaging"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"content",className:"block text-sm font-medium text-zinc-300 mb-2",children:"Article Content *"}),(0,a.jsx)("textarea",{id:"content",value:p,onChange:e=>b(e.target.value),placeholder:"Write your article content here... Support for markdown formatting",required:!0,rows:20,className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-primary resize-y font-mono text-sm"}),(0,a.jsx)("p",{className:"text-xs text-zinc-500 mt-1",children:"Write your full article. You can use markdown formatting."})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-zinc-800",children:[(0,a.jsx)(c.default,{href:"/blog",children:(0,a.jsx)(u.z,{type:"button",variant:"secondary",children:"Cancel"})}),(0,a.jsx)(u.z,{type:"submit",variant:"primary",disabled:N,children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Publishing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Publish Article"]})})]})]})}),(0,a.jsxs)(d.Z,{className:"bg-zinc-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-zinc-100 mb-3",children:"Writing Guidelines"}),(0,a.jsxs)("ul",{className:"space-y-2 text-sm text-zinc-400",children:[(0,a.jsx)("li",{children:"• Write clear, informative titles that accurately describe your content"}),(0,a.jsx)("li",{children:"• Provide value through actionable insights and analysis"}),(0,a.jsx)("li",{children:"• Back up claims with data, charts, or reliable sources"}),(0,a.jsx)("li",{children:"• Use proper formatting for better readability"}),(0,a.jsx)("li",{children:"• Be respectful and professional in your writing"}),(0,a.jsx)("li",{children:"• Avoid pump-and-dump schemes or misleading information"}),(0,a.jsx)("li",{children:"• Disclose any conflicts of interest or sponsored content"})]})]})]}):null}},7346:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});var a=r(37821);r(58078);let n=e=>{let{variant:t="primary",size:r="md",className:n="",children:s,...o}=e;return(0,a.jsx)("button",{className:"".concat("inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary hover:bg-primary-hover text-white shadow-lg hover:shadow-glow-blue",secondary:"bg-zinc-800 hover:bg-zinc-700 text-zinc-100 border border-zinc-700",danger:"bg-danger hover:bg-danger-dark text-white shadow-lg hover:shadow-glow-red",success:"bg-success hover:bg-success-dark text-white shadow-lg hover:shadow-glow-green",ghost:"bg-transparent hover:bg-zinc-800 text-zinc-100"}[t]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(n),...o,children:s})}},24807:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});var a=r(37821);r(58078);let n=e=>{let{children:t,className:r="",hover:n=!1,gradient:s=!1,glass:o=!1,onClick:l}=e;return(0,a.jsx)("div",{className:"".concat("rounded-lg p-6 border border-zinc-800"," ").concat(o?"glass":s?"card-gradient":"bg-zinc-900"," ").concat(n?"hover:border-zinc-700 hover:shadow-lg transition-all duration-300":""," ").concat(r),onClick:l,children:t})}},35684:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});var a=r(37821);r(58078);let n=e=>{let{label:t,error:r,className:n="",...s}=e;return(0,a.jsxs)("div",{className:"w-full",children:[t&&(0,a.jsx)("label",{className:"block text-sm font-medium text-zinc-400 mb-2",children:t}),(0,a.jsx)("input",{className:"\n          w-full px-4 py-2 \n          bg-zinc-800 border rounded-lg\n          text-zinc-100 placeholder-zinc-500\n          focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent\n          disabled:opacity-50 disabled:cursor-not-allowed\n          ".concat(r?"border-danger":"border-zinc-700","\n          ").concat(n,"\n        "),...s}),r&&(0,a.jsx)("p",{className:"mt-1 text-sm text-danger",children:r})]})}},97294:function(e,t,r){"use strict";r.d(t,{x:function(){return s}});var a=r(39190),n=r(92399);let s=a.Z.create({baseURL:n.C,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),window.location.href="/login"),Promise.reject(e)}),t.Z=s},13022:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return l},a:function(){return i}});var a=r(37821),n=r(58078),s=r(97294);let o=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(null),[i,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{d()},[]);let d=async()=>{try{if(localStorage.getItem("accessToken")){let e=await s.x.get("/auth/me");l(e.data.data.user)}}catch(e){localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}finally{c(!1)}},u=async(e,t)=>{let{user:r,tokens:a}=(await s.x.post("/auth/login",{email:e,password:t})).data.data;localStorage.setItem("accessToken",a.accessToken),localStorage.setItem("refreshToken",a.refreshToken),l(r)},m=async(e,t,r)=>{let{user:a,tokens:n}=(await s.x.post("/auth/register",{email:e,password:t,name:r})).data.data;localStorage.setItem("accessToken",n.accessToken),localStorage.setItem("refreshToken",n.refreshToken),l(a)},h=async()=>{try{let e=localStorage.getItem("refreshToken");e&&await s.x.post("/auth/logout",{refreshToken:e})}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),l(null)}};return(0,a.jsx)(o.Provider,{value:{user:r,loading:i,login:u,register:m,logout:h,isAuthenticated:!!r},children:t})}function i(){let e=(0,n.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},92399:function(e,t,r){"use strict";r.d(t,{C:function(){return a}});let a="http://localhost:3001"},88620:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(38322).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},17737:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(38322).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},58504:function(e,t,r){"use strict";var a=r(93226);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[190,534,115,364,744],function(){return e(e.s=60487)}),_N_E=e.O()}]);